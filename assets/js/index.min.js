layui.use(["element","jquery","common","util"],function(){var c=layui.element(),e=layui.jquery,d=layui.common;var a=new Array();var f={closeTab:function(){var h=e(this).data("name");var g=e.inArray(h,a);c.tabDelete("page-tab",g);b()},signOut:function(){d.signOut("确认退出系统？","为保存的操作将丢失！",function(){window.location.href="login.html"})}};e(".layui-nav").on("click",".tab-open",function(){b();var g=e.inArray(e(this).data("name"),a);if(g!=-1){c.tabChange("page-tab",g)}else{c.tabAdd("page-tab",{title:e(this).data("name").trim()+" <i class='layui-icon ayui-unselect layui-tab-close close-tab' data-name='"+e(this).data("name").trim()+"' data-type='closeTab'>&#x1006;</i>",content:"<iframe class='tab-main' src='"+e(this).data("href")+"'></iframe>"});c.tabChange("page-tab",a.length);changeIframeHeight()}});function b(){a=new Array();var g=e(".page-tab>.layui-tab-title li");e(g).each(function(h,i){a[h]=e(i).text().substr(0,e(i).text().trim().length-2)})}e("#go-dashboard").on("click",function(g){c.tabChange("page-tab",0)});e(".page-tab").on("click",".close-tab",function(){var g=e(this).data("type");f[g]?f[g].call(this):""});e("body").on("click",".sign-out, .do-action",function(){var g=e(this).data("type");f[g]?f[g].call(this):""});e(document).ready(function(){g();function g(){if(e(document).width()<=900){e(".layui-nav").eq(0).removeClass("layui-nav-tree");e(".layui-nav").eq(0).removeClass("layui-nav-side");var h=e(".layui-nav-item");e(h).each(function(i,j){if(i>0){e(j).removeClass("layui-nav-itemed")}})}else{e(".layui-nav").eq(0).addClass("layui-nav-tree");e(".layui-nav").eq(0).addClass("layui-nav-side");var h=e(".layui-nav-item");e(h).each(function(i,j){if(i>0){e(j).addClass("layui-nav-itemed")}})}}e(window).resize(function(){g()})})});changeContentHeight();changeIframeHeight();window.onresize=function(){changeContentHeight();changeIframeHeight()};function changeContentHeight(){var a=document.getElementById("page-content");a.height=document.documentElement.clientHeight}function changeIframeHeight(){var b=document.getElementsByClassName("tab-main");for(var a=0;a<=b.length;a++){b[a].height=document.documentElement.clientHeight-120}};